{% extends "base_site.html" %}

{% block title %} Profile {% endblock title %}

{% block stylesheets %}
{{ super() }}
<link href="{{ url_for('static', filename='assets/css/dataTables.bootstrap4.min.css') }}" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
{% endblock stylesheets %}

{% block content %}


<div class="row">
    <div class="container-fluid" style="padding-top: 20px;padding-left: 10px;">
        <div class="row">
            <div class="col">
                <div class="card shadow">
                    <div class="card-header bg-transparent">
                        <h3 class="mb-1">Karyawan Resign</h3>
                    </div>
                    <div class="card-body">

                        <form class="forms-sample" method="POST" id="addkaryawanresign" role="form">

                            <div class="form-group row">
                                <label for="exampleInputEmail3"
                                    class="col-sm-2 col-form-label form-control-sm font-weight-light"> Nama Karyawan
                                    Resign
                                </label>
                                <select name="karyawan" class="selectpicker form-control col-sm-3"
                                    data-style="btn-primary" title="Nama Karyawan..." data-live-search="true">
                                    {% for supervisor in dev %}
                                    <option value="{{ supervisor['user_id'] }}">{{ supervisor["fullname"] }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-group row">
                                <label for="exampleInputEmail3"
                                    class="col-sm-2 col-form-label form-control-sm font-weight-light"> Tanggal Resign
                                </label>
                                <input type="date" class="form-control col-sm-2 form-control-sm" name="tanggal"
                                    id="tanggal" data-date="" value="" required>
                            </div>

                            <div class="form-group row">
                                <label for="exampleInputEmail3"
                                    class="col-sm-2 col-form-label form-control-sm font-weight-light"> Handover Kepada
                                </label>
                                <!-- <select name="handover" class="selectpicker form-control col-sm-5" data-style="btn-primary" title="Nama Karyawan..." data-live-search="true"  data-selected-text-format="count > 2" data-style="btn-info" multiple>
                                {% for supervisor in dev %}
                                <option value="{{ supervisor['fullname'] }}">{{ supervisor["fullname"] }}</option>
                                {% endfor %}
                              </select> -->
                                <select name="handover" id="handover"
                                    class="selectpicker form-control col-sm-3 data-live-search=" true"
                                    data-selected-text-format="count > 2" data-style="btn-info" 
                                    title="List Developer...">
                                    {% for dd in dev %}
                                    <option value="{{dd['fullname'] }}">{{dd["fullname"] }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="form-group row">
                                <label for="exampleInputName1"
                                    class="col-sm-2 col-form-label form-control-sm font-weight-light">Keterangan
                                    Project</label>
                                <textarea id="ket" name="ket" rows="4" cols="35"></textarea>
                            </div>
                            <div class="form-group row">
                                <label for="exampleInputName1"
                                    class="col-sm-2 col-form-label form-control-sm font-weight-light">Tanggal Handover
                                    (start-end)</label>
                                <input type="text" class="form-control col-sm-2 form-control-sm form-control-sm"
                                    name="ket2" id="ket2" placeholder="dd-mm-yyyy - dd-mm-yyyy">
                            </div>
                            <div class="row">

                                <div class="col-sm-3">
                                    <button type="submit" name='register' id="register"
                                        class="btn btn-success btn-sm">Submit</button>
                                </div>
                            </div>



                        </form>
                    </div>

                </div>
            </div>
        </div>

        {% include "site_template/footer.html" %}

    </div>
</div>

{% endblock content %}

{% block javascripts %}
{{ super()}}

<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
<script src="{{ url_for('static', filename='assets/js/plugins/jquery/dist/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/js/plugins/datatables/jquery.dataTables.min.js') }}"></script>
<script src="{{ url_for('static', filename='assets/js/plugins/datatables/dataTables.bootstrap4.min.js') }}"></script>

<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->

<script
    src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/js/bootstrap-multiselect.min.js"></script>

<script type="text/JavaScript">
    // $('#example').DataTable({
    // "pageLength": 25,
    // "order": [[ 1, "desc" ]],
    // "language": {
    //     "paginate": {
    //         "previous": "Prev",
    //         "last": "Next",
    //     }
    // }

    // } );
</script>

<script>
    function setInputDate(_id) {
        var _dat = document.querySelector(_id);
        var hoy = new Date(),
            d = hoy.getDate(),
            m = hoy.getMonth() + 1,
            y = hoy.getFullYear(),
            data;

        if (d < 10) {
            d = "0" + d;
        };
        if (m < 10) {
            m = "0" + m;
        };

        data = y + "-" + m + "-" + d;
        console.log(data);
    };

    setInputDate("#dateDefault");
</script>
<script>
    // var values = "Test,Prof,Off";
    //     $.each(values.split(","), function (i, e) {
    //         $("#handover option[value='" + e + "']").prop("selected", true);
    //     });

    document.getElementById('register').onclick = function () {
            var selected = [];
            for (var option of document.getElementById('handover').options) {
                if (option.selected) {
                    selected.push(option.value);
                }
            }
            document.getElementById("fff").value = 'JKAJSJK,AKSLKLSKA,LAKSLKLA';
            // alert(selected);
        }
</script>
{% endblock javascripts %}